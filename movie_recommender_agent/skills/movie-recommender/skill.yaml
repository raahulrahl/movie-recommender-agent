id: movie-recommender-v1
name: movie-recommender
version: 1.0.0
author: paras25619@gmail.com

# Description
description: |
  Provides intelligent, preference-aware movie recommendations using real-time
  search data. Analyzes genres, themes, ratings, release dates, and similarity
  patterns to generate explainable, ranked film suggestions with contextual reasoning.

# Tags and Modes
tags:
  - entertainment
  - movies
  - recommendation
  - personalization
  - cinema
  - genres
  - ratings
  - discovery

input_modes:
  - text/plain
  - application/json

output_modes:
  - text/plain
  - application/json

# Example Queries
examples:
  - "Recommend psychological thrillers like Gone Girl"
  - "Top-rated comedy movies from the last 2 years"
  - "Family-friendly adventure movies for kids 8-12"
  - "Korean movies similar to Parasite"
  - "Mind-bending sci-fi films like Interstellar"

# Detailed Capabilities
capabilities_detail:
  primary_capability:
    supported: true
    description: "Generates ranked movie recommendations with explainable reasoning"
    features:
      - "Analyzes user preferences (genre, theme, rating, year, language)"
      - "Finds movies similar to provided titles"
      - "Applies rating and recency filters"
      - "Ranks recommendations by relevance"
      - "Provides spoiler-free summaries"
      - "Explains why each movie matches the request"
    limitations: "Does not provide theater showtimes, ticket booking, or piracy-related content"

  secondary_capability:
    supported: true
    description: "Provides contextual enrichment and recommendation metadata"
    features:
      - "Includes director and notable cast"
      - "Includes runtime and content rating"
      - "Identifies upcoming releases when requested"
      - "Returns structured metadata and confidence levels"

# Requirements
requirements:
  packages:
    - "agno>=2.2.0"
    - "openai>=2.11.0"
    - "exa-py>=2.0.0"
    - "python-dotenv>=1.0.1"
  system:
    - "Internet access required for movie data retrieval"
  min_memory_mb: 512
  external_services:
    - "OpenAI API or OpenRouter API"
    - "Exa API (required)"
    - "Mem0 API (optional)"

# Performance Metrics
performance:
  avg_processing_time_ms: 7000
  max_concurrent_requests: 3
  memory_per_request_mb: 512
  scalability: horizontal

# Tool Restrictions
allowed_tools:
  - ExaTools
  - Mem0Tools
  - Think
  - Analyze
  - Reason
  - Extract

# Rich Documentation
documentation:
  overview: |
    This skill specializes in personalized movie discovery. It interprets user intent,
    applies filtering logic, evaluates similarity factors, and returns structured,
    ranked recommendations with clear justification. Designed for conversational
    entertainment queries and structured orchestration workflows.

  use_cases:
    when_to_use:
      - "Finding movies similar to a favorite title"
      - "Discovering highly-rated films in a genre"
      - "Planning a movie night"
      - "Exploring international cinema"
      - "Finding upcoming genre releases"
      - "Mood-based entertainment discovery"

    when_not_to_use:
      - "Illegal streaming or piracy requests"
      - "Movie script generation"
      - "Professional film criticism essays"
      - "Ticket booking or theater showtimes"
      - "Film production budgeting"

  input_structure: |
    Accepts movie recommendation requests in plain text or JSON format.

    Example (Plain Text):
    "Recommend sci-fi thrillers like Interstellar with rating above 8"

    Example (JSON):
    {
      "content": "Movie recommendation request",
      "preferences": {
        "genres": ["sci-fi", "thriller"],
        "similar_to": ["Interstellar"],
        "min_rating": 8.0,
        "year_range": {"from": 2010, "to": 2025},
        "language": "English",
        "include_upcoming": false
      },
      "max_results": 5
    }

    Constraints:
    - Minimum 5 characters
    - Maximum 500 characters
    - max_results range: 1–15
    - English language supported
    - Movies only (TV excluded unless extended)

  output_format: |
    Returns structured recommendation output.

    Output Structure:
    - REQUEST SUMMARY: Short summary (< 20 words)
    - MOVIE RECOMMENDATIONS: For each recommendation:
      - RANK: Position in list
      - TITLE: Movie title
      - YEAR: Release year
      - GENRES: List of genres
      - RATINGS: IMDb and other available ratings
      - DIRECTOR: Director name
      - NOTABLE CAST: Key actors
      - RUNTIME: Duration in minutes
      - CONTENT RATING: Age classification
      - PLOT SUMMARY: 2–3 sentence spoiler-free summary
      - SIMILARITY FACTORS: Matching attributes
      - WHY RECOMMENDED: Clear justification
    - ADDITIONAL SUGGESTIONS: Optional extra titles
    - UPCOMING RELEASES: If requested
    - METADATA:
      - RECOMMENDATION COUNT
      - PROCESSING TIME
      - DATA SOURCES
      - CONFIDENCE LEVEL

    In text/plain mode:
    - Provide ranked list
    - Include year, genre, rating
    - 1–2 sentence explanation per movie

  error_handling:
    - "Input too short: Returns error requesting minimum length"
    - "No matches found: Suggests broader filters"
    - "Vague request: Asks for clarification or provides sampler list"
    - "API timeout: Retries once before partial fallback"
    - "Disallowed request: Politely declines with safe alternative"

  examples:
    - title: "High-Rated Sci-Fi"
      input:
        content: "Movies like Interstellar with IMDb 8+ rating"
      output:
        request_summary: "High-rated cerebral sci-fi films."
        recommendations_returned: 5
        confidence_level: "high"
        processing_time_ms: 6800

    - title: "Family Movie Night"
      input:
        content: "Family-friendly adventure movies for kids 8-12"
      output:
        request_summary: "Adventure films suitable for children 8-12."
        recommendations_returned: 6
        confidence_level: "high"
        processing_time_ms: 7200

  best_practices:
    for_developers:
      - "Verify movie metadata via Exa before returning results"
      - "Always provide reasoning for recommendations"
      - "Avoid spoilers in summaries"
      - "Limit recommendation count to avoid overload"
      - "Cache trending queries where appropriate"

    for_orchestrators:
      - "Route entertainment discovery queries here"
      - "Avoid chaining with summarization skills"
      - "Apply 30-second timeout policy"
      - "Rate limit to 3 concurrent executions"

  installation: |
    Installation instructions for the movie-recommender agent.

    Required packages:
    uv sync

    Environment variables required:
    - OPENAI_API_KEY or OPENROUTER_API_KEY
    - EXA_API_KEY (required)
    - MEM0_API_KEY (optional)

    Quick start:
    1. Clone repository
    2. Add API keys to .env
    3. Run: uv venv --python 3.12
    4. Run: uv sync
    5. Start agent: python -m movie_recommender.main

  versioning:
    - version: "1.0.0"
      date: "2026-01-11"
      changes: "Initial release with explainable ranking and real-time movie retrieval"

# Assessment fields for skill negotiation
assessment:
  keywords:
    - "movie"
    - "film"
    - "recommend"
    - "cinema"
    - "genre"
    - "rating"
    - "similar to"
    - "family movie"
    - "thriller"
    - "sci-fi"

  specializations:
    - domain: "entertainment discovery"
      confidence_boost: 0.3
    - domain: "movie recommendation"
      confidence_boost: 0.3
    - domain: "genre filtering"
      confidence_boost: 0.2
    - domain: "personalized suggestions"
      confidence_boost: 0.2

  anti_patterns:
    - "download movie free"
    - "pirate movie"
    - "illegal streaming"
    - "write movie script"
    - "theater showtimes"

  complexity_indicators:
    simple:
      - "movies like single title"
      - "top rated genre movies"
    medium:
      - "multiple similarity constraints"
      - "rating and year filtering"
    complex:
      - "multi-genre thematic blending"
      - "director or actor comparative recommendations"
